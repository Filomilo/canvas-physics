import{G as _,V as t,D as r,A as w,P as g,_ as b,a as f}from"./GameComponent.vue_vue_type_style_index_0_lang-C4RZRmDn.js";import{M as h}from"./MovablePolygon-CeVZ8yxi.js";import{P as u}from"./PhysicBall-BmMQky9W.js";import{d as y,c as p,a as j,b as x,u as P,o as v}from"./index-8LjSHwpe.js";import"./Polygon-C1FO5tZz.js";class O extends _{_obj1;_obj2;constructor(e,n){super(),this._obj1=e,this._obj2=n}visible=!0;draw(e){this._obj2.getNormalsForCollision().concat(this._obj1.getNormalsForCollision()).forEach(s=>{const o=new t(s.x<0?this.game?.getWidthAndHeightOfCanvas().width:0,s.y<0?this.game?.getWidthAndHeightOfCanvas().height:0),i=200;r.drawLine(e,o.x,o.y,o.x+s.x*5e3,o.y+s.y*5e3,2,"blue");const l=this._obj1.castObjectOntoNormal(s);r.drawLine(e,o.x+s.x*(l.min+i),o.y+s.y*(l.min+i),o.x+s.x*(l.max+i),o.y+s.y*(l.max+i),5,"pink");const m=this._obj2.castObjectOntoNormal(s);r.drawLine(e,o.x+s.x*(m.min+i),o.y+s.y*(m.min+i),o.x+s.x*(m.max+i),o.y+s.y*(m.max+i),5,"green")});const a=w.SasCollision(this._obj1,this._obj2);if(a!==null){if(typeof this._obj1.getTransformedPoints=="function"){const s=this._obj1;r.drawLines(e,this._obj1.getTransformedPoints(),4,"yellow");const o=s.getMidAvgPoint();r.drawLine(e,o.x,o.y,o.x-a.x*10,o.y-a.y*10,10,"orange")}if(typeof this._obj2.getTransformedPoints=="function"){r.drawLines(e,this._obj2.getTransformedPoints(),4,"yellow");const o=this._obj1.getMidAvgPoint();r.drawLine(e,o.x,o.y,o.x-a.x*10,o.y-a.y*10,10,"orange")}typeof this._obj2.radius=="number"&&r.drawCircle(e,this._obj2.center.x,this._obj2.center.y,this._obj2.radius,"yellow")}}}class c extends u{isPressed=!1;mouseOnState=!1;isHoveredOver;centerOrigin(){}resetTransoform(){this.position=new t}_originalColor="white";update(e){if(this.isPressed===!0){const n=this.game?._MouseController.getMouseDelta();this.move(this.isPressed?n||new t(0,0):new t(0,0)),this.rotate(this.game?this.game?._MouseController.getScrollDelta():0)}}onPress(){}onUnpress(){}onClick(){this._color="yellow",new Promise(e=>setTimeout(e,200)).then(()=>{this._color=this._originalColor})}onHover(){this._color="red"}onUnHover(){this._color=this._originalColor}isMouseOn(e){return w.isPointWithinCirlce(e,this.position,this._radius)}draw(e){this.isHoveredOver&&(this._color="red"),this.isPressed&&(this._color="green"),super.draw(e),this._color=this._originalColor}}const C={class:"DemoView"},A=y({__name:"SasVisualizerView",setup(d){const e=new f;e.addObject(new g(new t(20,20)));const n=new h([new t(-100,100),new t(100,100),new t(100,-100),new t(-100,-100)]);n.move(new t(200,200)),new h([new t(-100,100),new t(100,100),new t(-100,-100)]).move(new t(500,200)),e.addObject(n);const s=new c(new t(200,400),10,"white");return new c(new t(200,700),10,"white"),s.IsSimulatable=!1,e.addObject(s),e.addObject(new O(n,s)),(o,i)=>(v(),p("main",C,[i[0]||(i[0]=j("div",{class:"titleStyle"}," SAS VIsuaLiszer Demo ",-1)),x(b,{class:"gameView",id:"shapes_demo",game:P(e)},null,8,["game"])]))}});export{A as default};
