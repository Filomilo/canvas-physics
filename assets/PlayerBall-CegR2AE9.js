import{V as p,a as w}from"./GameComponent.vue_vue_type_style_index_0_lang-BCW1kSqt.js";import{C as O}from"./CollidableRectangle-Cxl0diji.js";import{P}from"./PhysicBall-D9c_0-gF.js";import{P as b,a as g}from"./Particle-B55gAcww.js";function d(s){return typeof s.activate=="function"}class _ extends O{isCollsioniActive=!1;isActivator=!0;constructor(t,e,i=new p(0,0),c="#dad5c2"){super(t,e,i,c),this.OnObjectEnter=n=>{console.log(`Object ref: ${d(n)}`),d(n)&&n.activate()},this.isActivator=!0}}class R extends _{constructor(t){super(50,50,t,"#ffe908")}}const{parse:I,stringify:j}=JSON,y=String,M="string",A="object",x=(s,t)=>t,f=(s,t,e)=>{const i=y(t.push(e)-1);return s.set(e,i),i},C=(s,t,e)=>{const i=x,c=new Map,n=[],l=[];let r=+f(c,n,i.call({"":s},"",s)),a=!r;for(;r<n.length;)a=!0,l[r]=j(n[r++],v,e);return"["+l.join(",")+"]";function v(m,u){if(a)return a=!a,u;const o=i.call(this,m,u);switch(typeof o){case A:if(o===null)return o;case M:return c.get(o)||f(c,n,o)}return o}};class E extends w{_speed=0;_partcleLife=0;_pos=new p;constructor(t,e,i=1){super(),this._speed=e,this._partcleLife=i,this._pos=t.clone()}isActive=!0;emitParticles(){console.log("point emmiter positon: "+C(this._pos));const t=new p(Math.random()*2-1,Math.random()*2-1).normalize().multiplyScalar(this._speed),e=new b(this._pos.clone(),5,"white");return e._vel=t,e.life=this._partcleLife,[e]}}var h;(s=>{function t(e,i){const c=new g,n=new E(i,17,3);c.addEmitter(n),e.addObject(c),setInterval(()=>{n.isActive=!1,setInterval(()=>{e.destroyObject(c)},5e3)},100)}s.spawnParticlesOnce=t})(h||(h={}));class V extends P{activateMethods=[];addOnACtivateMethod(t){this.activateMethods.push(t)}constructor(t){super(t,20,"#2596be"),this.addOnACtivateMethod(()=>{h.spawnParticlesOnce(this.game,this.position.clone()),this.game.destroyObject(this)})}activate(){this.activateMethods.forEach(t=>{t()})}clone(){const t=super.clone();return t.activateMethods=[...this.activateMethods],t}}export{V as P,R as W};
